"use strict";angular.module("outstanding",["outstanding.templates","outstanding.pages.landing","outstanding.data","ngAnimate","ui.router","anim-in-out","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/landing")}]),angular.module("outstanding.data",[]).factory("DataFactory",["$rootScope",function(t){var e={CONTRACT:0,DATE:1,TIME:2,AMOUNT:3},n={data:[],parsedData:[],selectedDate:null,parseData:function(t){return[["Contract","Date","Time","Amount"],[14851,"20/05/2016","12:04:78.594",1405.61],[35156,"20/05/2016","12:37:35.298",23415.51],[29526,"22/05/2016","15:24:31.562",5296.15],[29586,"23/05/2016","11:27:25.158",18150.57],[56556,"04/06/2016","09:51:21.565",9385.19]]},getCol:function(t,e,n){for(var a=[],r=n?1:0,o=r;o<t.length;o++){var u=t[o];a.push(u[e])}return a},getRow:function(t,e){return t[e]},getContractCol:function(t,a){return n.getCol(t,e.CONTRACT,a)},getDateCol:function(t,a){return n.getCol(t,e.DATE,a)},getTimeCol:function(t,a){return n.getCol(t,e.TIME,a)},getAmountCol:function(t,a){return n.getCol(t,e.AMOUNT,a)},getRowByDateString:function(t){for(var a=1,r=a;r<n.parsedData.length;r++){var o=n.parsedData[r];if(o[e.DATE]===t)return o}},getContractVal:function(t){return t[e.CONTRACT]},getDateVal:function(t){return t[e.DATE]},getTimeVal:function(t){return t[e.TIME]},getAmountVal:function(t){return t[e.AMOUNT]}};return t.$watch(function(){return n.data},function(t,e){t&&t!==e&&(n.parsedData=n.parseData(t))},!0),n}]),angular.module("outstanding.pages.landing",["outstanding.calendar","outstanding.date_details","outstanding.uploader","ui.router"]).config(["$stateProvider",function(t){t.state("landing",{url:"/landing",templateUrl:"landing/landing.html",controller:"LandingPageCtrl"})}]).controller("LandingPageCtrl",["$scope","DataFactory",function(t,e){!function(){t.DataFactory=e,t.isUtc=!1}()}]),angular.module("outstanding.calendar",[]).constant("DAY_EVENT_FIELDS",{CONTRACT:"contract",AMOUNT:"amount",DATE:"date",TIME:"time"}).constant("DAYS_OF_WEEK",["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]).constant("MONTH_NAMES",["January","February","March","April","May","June","July","August","September","October","November","December"]).factory("CalendarFactory",["DataFactory","DAY_EVENT_FIELDS","MONTH_NAMES",function(t,e,n){function a(t,e){var n=new Date(e,t+1,0);return d.isUTC?n.getUTCDate():n.getDate()}function r(t,e){for(var n={},r=1,o=a(t,e),u=r;o>=u;u++)n[u]={};return n}function o(t,e){var n,a=new Date(t);return n=d.isUTC?a.getUTCMonth():a.getMonth(),n+=e?1:0}function u(t){var e=new Date(t);return d.isUTC?e.getUTCDate():e.getDate()}function i(t){var e=new Date(t);return d.isUTC?e.getUTCFullYear():e.getFullYear()}function l(t,e){for(var n={},a=0;a<t.length;a++){var u=t[a];if(e===i(u)){var l=o(u,!0);n[l]||(n[l]=r(l-1,e))}}return n}function c(e,n){for(var a=t.getDateCol(e,!0),r=0;r<a.length;r++){var o=a[r],u=o.match(s),i=new Date(u[2],u[1]-1,u[0]);n&&n(i.getTime(),u)}}var s=new RegExp(/\d+/g),d={dates:[],years:[],isUTC:!1,setUTC:function(t){d.isUTC=t||!1},setDates:function(t){d.dates=[],c(t,function(t){d.dates.push(t)})},makeYearsList:function(){for(var t={},e=0;e<d.dates.length;e++){var n=d.dates[e],a=i(n);t[a]||(t[a]=l(d.dates,a))}d.years=t},insertDataToDates:function(n){for(var a=1,r=a;r<n.length;r++){var l=n[r],c={},g=t.getDateVal(l),f=g.match(s),D=new Date(f[2],f[1]-1,f[0]),T=D.getTime(),C=""+i(T),E=("0"+o(T,!0)).slice(-2),m=("0"+u(T)).slice(-2);d.years[+C][+E][+m].events=d.years[+C][+E][+m].events||[],c[e.CONTRACT]=t.getContractVal(l),c[e.TIME]=t.getTimeVal(l),c[e.AMOUNT]=t.getAmountVal(l),d.years[+C][+E][+m].events.push(c)}},getTotalForDay:function(t,e){if(t){for(var n=0,a=0;a<t.length;a++){var r=t[a];n+=r[e]}return n}},getMonthName:function(t){return n[t-1]},getDayOfWeek:function(t,e){var n,a=new Date(+e,+t-1,1);n=d.isUTC?a.getUTCDay():a.getDay();var r=[6,0,1,2,3,4,5];return r[n]}};return d}]).directive("calendar",["CalendarFactory","DAY_EVENT_FIELDS","DAYS_OF_WEEK",function(t,e,n){return{restrict:"E",replace:!0,templateUrl:"calendar/calendar.html",scope:{source:"=",selected:"=",isUtc:"="},link:function(a){function r(e){t.setUTC(a.isUtc),t.setDates(e),t.makeYearsList(),t.insertDataToDates(e)}a.setSelectedDate=function(e,n,r){a.selected={day:e,month:n,year:r,data:t.years[r][n][e]}},a.$watch("source",function(t,e){t&&t!==e&&r(t)}),function(){a.CalendarFactory=t,a.DAY_EVENT_FIELDS=e,a.DAYS_OF_WEEK=n}()}}}]),angular.module("outstanding.date_details",["outstanding.calendar"]).directive("dateDetails",["CalendarFactory","DAY_EVENT_FIELDS",function(t,e){return{restrict:"E",replace:!0,scope:{source:"="},templateUrl:"date_details/date_details.html",link:function(n){n.CalendarFactory=t,n.DAY_EVENT_FIELDS=e}}}]).filter("pureTime",function(){return function(t){var e=0,n=".";return t.substr(e,t.lastIndexOf(n))}}),angular.module("outstanding.uploader",[]).directive("uploader",function(){return{restrict:"E",replace:!0,scope:{storage:"="},templateUrl:"uploader/uploader.html",link:function(t){t.$watch("fileContent",function(e,n){e!==n&&(t.storage=e)},!0)}}}).directive("fileReader",function(){return{scope:{fileReader:"="},link:function(t,e){e.on("change",function(e){var n=e.target.files;if(n.length){var a=new FileReader;a.onload=function(e){var n=e.target.result;t.$apply(function(){t.fileReader=n})},a.readAsText(n[0])}})}}});
//# sourceMappingURL=app.min.js.map